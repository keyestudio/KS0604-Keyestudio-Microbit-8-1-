### 3.2.2 摇摆小船 

#### 3.2.2.1 简介

![Img](./media/top1.png)

使用一些乐高积木件、Microbit V2主板，舵机扩展板和1个360°乐高舵机等，来搭建一个摇摆小船，通过Microbit V2主板上面的按钮A/B和代码编程来控制摇摆小船向前滑动、向后滑动和停止滑动。

![Img](./media/bottom1.png)

#### 3.2.2.2 所需组件

![Img](./media/A2-0.png)

#### 3.2.2.3 积木搭建

![Img](./media/2top.png)

![Img](./media/A2-1.png)

![Img](./media/A2-2.png)

![Img](./media/A2-3.png)

![Img](./media/A2-4.png)

![Img](./media/A2-5.png)

![Img](./media/A2-6.png)

![Img](./media/A2-7.png)

![Img](./media/A2-8.png)

![Img](./media/A2-9.png)

![Img](./media/A2-10.png)

![Img](./media/A2-11.png)

![Img](./media/A2-12.png)

![Img](./media/A2-13.png)

![Img](./media/A2-14.png)

![Img](./media/A2-15.png)

![Img](./media/A2-16.png)

![Img](./media/A2-17.png)

![Img](./media/A2-18.png)

![Img](./media/A2-19.png)

![Img](./media/A2-20.png)

![Img](./media/A2-21.png)

![Img](./media/A2-22.png)

**电池盒中安装好4个AAA-1.5V电池（电池电源充足）**

![Img](./media/A02.png)

**360°乐高舵机的接线**

| 360°乐高舵机 | 舵机扩展板引脚(SERVO1/P1) | micro:bit V2主板引脚 |
| :---------: | :----------------------: | :-----------------: |
|     棕线    |            GND           |          G          |
|     红线    |            VCC           |          V          |
|    橙黄线   |           SIG(S)         |          P1         |

![Img](./media/wiring2.jpg)

![Img](./media/A2-23.png)

![Img](./media/A2-24.png)

![Img](./media/A2-25.png)

![Img](./media/A2-26.png)

![Img](./media/A2-27.png)

![Img](./media/A2-28.png)

![Img](./media/A2-29.png)

![Img](./media/2bottom.png)

#### 3.2.2.4 实验代码

![Img](./media/couj02.png)

⚠️ **<span style="color: rgb(255, 76, 65);">特别提醒：可以通过以下两种方法获取实验代码。</span>**

##### **方法一：拖动代码块编写代码**

**1. MakeCode编程环境：**

打开MakeCode编辑器在线网页版本: [MakeCode](https://makecode.microbit.org/#editor)

**2. 添加专属扩展库**

⚠️ **<span style="color: rgb(255, 76, 65);">特别提醒:</span>** 将链接：`https://github.com/keyestudio2019/pxt-creative-inventors-kit-master.git` 复制粘贴到页面的搜索框中。

![Img](./media/Animation-4.gif)

**3. 编写代码**

![Img](./media/dongtu-02.gif)

**方法二：直接下载示例代码**

##### **方法二：直接下载示例代码**

**1. 下载示例代码：**

单击下载代码：[3_3_2_Swaying_Boat](./Codes/3_3_2_Swaying_Boat.hex)

**2. MakeCode编程环境：**

打开MakeCode编辑器在线网页版本: [MakeCode](https://makecode.microbit.org/#editor)

**3. 导入示例代码：**

将下载好的示例代码拖入MakeCode编辑器中。

![Img](./media/Animation-0002.gif)

![Img](./media/line1.png)

#### 3.2.2.5 实验结果

![Img](./media/4top.png)

按照接线图接好线，利用micro USB数据线上电，同时还需要外接电源 (4个AAA电池安装到电池盒，且保证电源充足)。

使用在线浏览器下载示例代码，则需要将下载好的 “.hex” 文件发送到micro:bit V2主板上。如下两种方式：

**① 下载示例代码(WebUSB功能)**

使用 **Google Chrome/Microsoft Edge** 等浏览器，需要先点击 “Connect Device” 按钮 来连接好设备，再将示例代码下载到micro:bit V2主板上。

![Img](./media/Animation-02.gif)

**② 下载示例代码(非WebUSB功能)**

使用 **Safari/Firefox/其他** 等浏览器，将示例代码下载、发送到micro:bit V2主板上。

![Img](./media/Animation-002.gif)

将示例代码成功下载、发送到micro:bit V2主板之后，然后将micro USB数据线从micro:bit V2主板上拔下来。

将舵机扩展板上的左侧拨码开关拨到RGB端，右侧拨码开关拨到ON端。

![Img](./media/CBA01.png)

按下micro:bit V2主板上面的按钮A且松开时，摇摆小船向前滑动，同时SK6812 RGB LED亮红色灯，micro:bit V2主板上面的5×5 LED点阵屏显示图案![Img](./media/ab3.png)；

按下micro:bit V2主板上面的按钮B且松开时，摇摆小船向后滑动，同时SK6812 RGB LED亮橙色灯，micro:bit V2主板上面的5×5 LED点阵屏显示图案![Img](./media/ab1.png)；

同时按下micro:bit V2主板上面的按钮A+B且松开时，摇摆小船停止滑动，同时SK6812 RGB LED熄灭，micro:bit V2主板上面的5×5 LED点阵屏清屏。

![Img](./media/dongtu-002.gif)

![Img](./media/4bottom.png)
